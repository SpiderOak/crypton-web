<link rel="stylesheet" type="text/css" href="/stylesheets/github.css" />
<script src="/javascripts/rainbow.min.js"></script>

<div class="quest">
  <h1>Getting Started</h1>
  <div class="qbod">
    <div class="qside">
    </div>
    <div class="qtext">
      <p style="color: red;">
        Crypton is not yet suitable for a production environment.
      </p>
      <p>
        The following will guide you through setting up a Crypton
        server for development. This guide assumes you are on Ubuntu 12.04,
        though this is not required to run Crypton.
      </p>
      <p><strong>Dependencies</strong></p>
      <p>
        The Crypton server depends on PostgreSQL and Node.js v0.10.x.
      </p>
      <pre><code data-language="shell"># update apt
sudo apt-get update

# install postgres
sudo apt-get install postgresql

# install git
sudo apt-get install git-core

# install node.js dependencies
sudo apt-get install make g++ curl libssl-dev apache2-utils

# install node.js
wget http://nodejs.org/dist/v0.10.10/node-v0.10.10.tar.gz
tar xzf node-v0.10.10.tar.gz
cd node-v0.10.10
./configure
make && sudo make install
cd ..
rm -rf node-v0.10.10*

# get crypton
git clone https://github.com/SpiderOak/crypton.git

# install node modules and run tests
cd crypton
make

# setup the database
cd integration_tests
make setup-test-environment
</code></pre>
      <p><strong>Running the server</strong></p>
      <pre><code data-language="shell">cd crypton/server
npm link
which crypton # should be ./server.js
NODE_ENV=test crypton
</code></pre>
      <p>To clean the database (remove all data):</p>
      <pre><code data-language="shell">cd crypton/integration_tests
make clean-test-db
</code></pre>
      <p><strong>Client compilation</strong></p>
      <p>To generate the un- and minified versions of the client code:</p>
      <pre><code data-language="shell">cd crypton/client
./compile.sh --once
# crypton.js and crypton.min.js should now be in crypton/client/dist
# if --once is left off, compile.sh recompile once a change in the client directory is detected
</code></pre>
    </div>
  </div>
</div>

